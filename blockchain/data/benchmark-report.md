# Benchmark Results Report

> **Generated**: 2026-03-01T14:20:31.329Z
> **Network**: hardhat-local
> **Solidity Version**: 0.8.20
> **ETH Price**: $2,016.91 (live)
> **Gas Price Baseline**: 20 gwei
> **Iterations per Test**: 5

## Methodology

All gas measurements were obtained from Ethereum transaction receipts on a
Hardhat local network (deterministic EVM execution). Each operation was
repeated 5 times. We report the mean, standard
deviation, and 95% confidence interval (z = 1.96) for each metric. IPFS
performance was measured against a local Kubo node running in Docker.

---

## 1. Gas Cost Analysis

| Operation | Contract | Avg Gas | Std Dev | 95% CI | Cost (USD) | Avg Time |
|-----------|----------|---------|---------|--------|------------|----------|
| registerPatient | PatientManagement | 98223 | 5 | [98218, 98227] | $3.9621 | 0.007s |
| registerDoctor | DoctorManagement | 125544 | 5 | [125539, 125548] | $5.0642 | 0.003s |
| addMedicalRecord | PatientManagement | 269171 | 1258 | [268068, 270273] | $10.8579 | 0.005s |
| grantAccess | DoctorManagement | 93419 | 7 | [93413, 93425] | $3.7684 | 0.003s |
| revokeAccess | DoctorManagement | 34960 | 5 | [34956, 34965] | $1.4102 | 0.004s |
| addAuditLog | HealthcareAudit | 195488 | 7647 | [188785, 202191] | $7.8856 | 0.005s |

### Gas Cost Observations

- **Most expensive**: `addMedicalRecord` — stores 7 string parameters on-chain
- **Cheapest**: `addAuditLog` — simpler struct with fewer fields
- **Access management** (`grantAccess`, `revokeAccess`) falls in the mid-range

---

## 2. Gas Price Sensitivity

USD cost per operation at varying gas prices (ETH = $2,016.91):

| Operation | 5_gwei | 20_gwei | 50_gwei | 100_gwei | 200_gwei |
|-----------|------|------|------|------|------|
| registerPatient | $0.9905 | $3.9621 | $9.9053 | $19.8106 | $39.6212 |
| registerDoctor | $1.2661 | $5.0642 | $12.6605 | $25.3210 | $50.6420 |
| addMedicalRecord | $2.7145 | $10.8579 | $27.1446 | $54.2893 | $108.5786 |
| grantAccess | $0.9421 | $3.7684 | $9.4209 | $18.8418 | $37.6836 |
| revokeAccess | $0.3526 | $1.4102 | $3.5256 | $7.0512 | $14.1024 |
| addAuditLog | $1.9714 | $7.8856 | $19.7141 | $39.4282 | $78.8563 |

> **Key Finding**: At peak congestion (200 gwei), costs increase 10× compared to
> low-activity periods (20 gwei). This highlights the importance of gas price
> optimization strategies for healthcare dApps.

---

## 3. IPFS Performance

| File Size | Upload (avg) | Upload (σ) | Retrieval (avg) | End-to-End (avg) |
|-----------|-------------|------------|-----------------|------------------|
| 1KB | 0.027s | 0.006s | 0.005s | 0.033s |
| 100KB | 0.065s | 0.004s | 0.009s | 0.069s |
| 1MB | 0.052s | 0.015s | 0.015s | 0.057s |
| 5MB | 0.104s | 0.015s | 0.055s | 0.110s |

---

## 4. Scalability Analysis

### Document Accumulation

Measures whether gas costs increase as the contract accumulates more records.

| Total Documents | Avg Gas | Std Dev | Avg Time |
|----------------:|--------:|--------:|---------:|
| 10 | 314287 | 0 | 0.005s |
| 100 | 314347 | 0 | 0.004s |
| 500 | 314383 | 0 | 0.005s |
| 1000 | 314407 | 0 | 0.003s |

### Concurrent Operations

Measures application-layer throughput under simultaneous transaction submission.

> **Note**: These results measure client-side submission concurrency (how fast
> transactions can be submitted), not on-chain block-level throughput. Real
> Ethereum mainnet processes transactions sequentially within ~12s blocks.

| Users | Success Rate | Avg Response | Throughput (tx/s) |
|------:|-------------:|-------------:|------------------:|
| 10 | 100% | 0.02s | 579.87 |
| 50 | 100% | 0.09s | 533.3 |
| 100 | 100% | 0.15s | 620.62 |

---

## 5. Cost Comparison: Blockchain vs. Centralized

See `data/comparison.json` for detailed cost comparison data between:
- **Ethereum Mainnet** — current system
- **Polygon L2** — lower gas costs
- **Centralized (AWS)** — traditional cloud infrastructure

Key advantages of the blockchain approach:
1. **Immutable audit trail** — critical for HIPAA compliance
2. **Decentralized access control** — no single point of failure
3. **Patient data sovereignty** — patient controls who sees their records
4. **Cryptographic integrity** — IPFS content-addressing guarantees data hasn't been tampered with

---

*Report generated by the Medical Document Management System Benchmarking Suite v2.0*
