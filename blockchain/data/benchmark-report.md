# Benchmark Results Report

> **Generated**: 2026-02-26T22:30:24.130Z
> **Network**: hardhat-local
> **Solidity Version**: 0.8.20
> **ETH Price**: $3,500 (default)
> **Gas Price Baseline**: 20 gwei
> **Iterations per Test**: 5

## Methodology

All gas measurements were obtained from Ethereum transaction receipts on a
Hardhat local network (deterministic EVM execution). Each operation was
repeated 5 times. We report the mean, standard
deviation, and 95% confidence interval (z = 1.96) for each metric. IPFS
performance was measured against a local Kubo node running in Docker.

---

## 1. Gas Cost Analysis

| Operation | Contract | Avg Gas | Std Dev | 95% CI | Cost (USD) | Avg Time |
|-----------|----------|---------|---------|--------|------------|----------|
| registerPatient | PatientManagement | 98223 | 5 | [98218, 98227] | $6.8756 | 0.004s |
| registerDoctor | DoctorManagement | 125544 | 5 | [125539, 125548] | $8.7881 | 0.003s |
| addMedicalRecord | PatientManagement | 269168 | 1250 | [268073, 270263] | $18.8418 | 0.003s |
| grantAccess | DoctorManagement | 93419 | 7 | [93413, 93425] | $6.5393 | 0.003s |
| revokeAccess | DoctorManagement | 34960 | 5 | [34956, 34965] | $2.4472 | 0.002s |
| addAuditLog | HealthcareAudit | 195488 | 7647 | [188785, 202191] | $13.6842 | 0.003s |

### Gas Cost Observations

- **Most expensive**: `addMedicalRecord` — stores 7 string parameters on-chain
- **Cheapest**: `addAuditLog` — simpler struct with fewer fields
- **Access management** (`grantAccess`, `revokeAccess`) falls in the mid-range

---

## 2. Gas Price Sensitivity

USD cost per operation at varying gas prices (ETH = $3,500):

| Operation | 5_gwei | 20_gwei | 50_gwei | 100_gwei | 200_gwei |
|-----------|------|------|------|------|------|
| registerPatient | $1.7189 | $6.8756 | $17.1890 | $34.3779 | $68.7558 |
| registerDoctor | $2.1970 | $8.7881 | $21.9701 | $43.9403 | $87.8805 |
| addMedicalRecord | $4.7104 | $18.8418 | $47.1044 | $94.2089 | $188.4177 |
| grantAccess | $1.6348 | $6.5393 | $16.3484 | $32.6967 | $65.3934 |
| revokeAccess | $0.6118 | $2.4472 | $6.1181 | $12.2361 | $24.4723 |
| addAuditLog | $3.4210 | $13.6842 | $34.2104 | $68.4208 | $136.8416 |

> **Key Finding**: At peak congestion (200 gwei), costs increase 10× compared to
> low-activity periods (20 gwei). This highlights the importance of gas price
> optimization strategies for healthcare dApps.

---

## 3. IPFS Performance

> ⚠ IPFS tests were not run (node unavailable). Re-run with IPFS Docker container active.

---

## 4. Scalability Analysis

### Document Accumulation

Measures whether gas costs increase as the contract accumulates more records.

| Total Documents | Avg Gas | Std Dev | Avg Time |
|----------------:|--------:|--------:|---------:|
| 10 | 314287 | 0 | 0.004s |
| 100 | 314347 | 0 | 0.003s |
| 500 | 314383 | 0 | 0.004s |
| 1000 | 314407 | 0 | 0.002s |

### Concurrent Operations

Measures application-layer throughput under simultaneous transaction submission.

> **Note**: These results measure client-side submission concurrency (how fast
> transactions can be submitted), not on-chain block-level throughput. Real
> Ethereum mainnet processes transactions sequentially within ~12s blocks.

| Users | Success Rate | Avg Response | Throughput (tx/s) |
|------:|-------------:|-------------:|------------------:|
| 10 | 100% | 0.01s | 822.11 |
| 50 | 100% | 0.06s | 760.03 |
| 100 | 100% | 0.11s | 847.62 |

---

## 5. Cost Comparison: Blockchain vs. Centralized

See `data/comparison.json` for detailed cost comparison data between:
- **Ethereum Mainnet** — current system
- **Polygon L2** — lower gas costs
- **Centralized (AWS)** — traditional cloud infrastructure

Key advantages of the blockchain approach:
1. **Immutable audit trail** — critical for HIPAA compliance
2. **Decentralized access control** — no single point of failure
3. **Patient data sovereignty** — patient controls who sees their records
4. **Cryptographic integrity** — IPFS content-addressing guarantees data hasn't been tampered with

---

*Report generated by the Medical Document Management System Benchmarking Suite v2.0*
