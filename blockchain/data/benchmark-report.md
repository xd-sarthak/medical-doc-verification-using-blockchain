# Benchmark Results Report

> **Generated**: 2026-02-26T22:38:47.914Z
> **Network**: hardhat-local
> **Solidity Version**: 0.8.20
> **ETH Price**: $2,033.5 (live)
> **Gas Price Baseline**: 20 gwei
> **Iterations per Test**: 5

## Methodology

All gas measurements were obtained from Ethereum transaction receipts on a
Hardhat local network (deterministic EVM execution). Each operation was
repeated 5 times. We report the mean, standard
deviation, and 95% confidence interval (z = 1.96) for each metric. IPFS
performance was measured against a local Kubo node running in Docker.

---

## 1. Gas Cost Analysis

| Operation | Contract | Avg Gas | Std Dev | 95% CI | Cost (USD) | Avg Time |
|-----------|----------|---------|---------|--------|------------|----------|
| registerPatient | PatientManagement | 98223 | 5 | [98218, 98227] | $3.9947 | 0.004s |
| registerDoctor | DoctorManagement | 125544 | 5 | [125539, 125548] | $5.1059 | 0.002s |
| addMedicalRecord | PatientManagement | 269173 | 1252 | [268075, 270271] | $10.9473 | 0.004s |
| grantAccess | DoctorManagement | 93419 | 7 | [93413, 93425] | $3.7994 | 0.002s |
| revokeAccess | DoctorManagement | 34960 | 5 | [34956, 34965] | $1.4218 | 0.002s |
| addAuditLog | HealthcareAudit | 195488 | 7647 | [188785, 202191] | $7.9505 | 0.002s |

### Gas Cost Observations

- **Most expensive**: `addMedicalRecord` — stores 7 string parameters on-chain
- **Cheapest**: `addAuditLog` — simpler struct with fewer fields
- **Access management** (`grantAccess`, `revokeAccess`) falls in the mid-range

---

## 2. Gas Price Sensitivity

USD cost per operation at varying gas prices (ETH = $2,033.5):

| Operation | 5_gwei | 20_gwei | 50_gwei | 100_gwei | 200_gwei |
|-----------|------|------|------|------|------|
| registerPatient | $0.9987 | $3.9947 | $9.9868 | $19.9736 | $39.9471 |
| registerDoctor | $1.2765 | $5.1059 | $12.7646 | $25.5293 | $51.0586 |
| addMedicalRecord | $2.7368 | $10.9473 | $27.3682 | $54.7363 | $109.4727 |
| grantAccess | $0.9498 | $3.7994 | $9.4984 | $18.9968 | $37.9936 |
| revokeAccess | $0.3555 | $1.4218 | $3.5546 | $7.1092 | $14.2184 |
| addAuditLog | $1.9876 | $7.9505 | $19.8762 | $39.7525 | $79.5050 |

> **Key Finding**: At peak congestion (200 gwei), costs increase 10× compared to
> low-activity periods (20 gwei). This highlights the importance of gas price
> optimization strategies for healthcare dApps.

---

## 3. IPFS Performance

| File Size | Upload (avg) | Upload (σ) | Retrieval (avg) | End-to-End (avg) |
|-----------|-------------|------------|-----------------|------------------|
| 1KB | 0.028s | 0.014s | 0.003s | 0.033s |
| 100KB | 0.023s | 0.007s | 0.006s | 0.029s |
| 1MB | 0.063s | 0.019s | 0.034s | 0.068s |
| 5MB | 0.118s | 0.024s | 0.100s | 0.124s |

---

## 4. Scalability Analysis

### Document Accumulation

Measures whether gas costs increase as the contract accumulates more records.

| Total Documents | Avg Gas | Std Dev | Avg Time |
|----------------:|--------:|--------:|---------:|
| 10 | 314287 | 0 | 0.006s |
| 100 | 314347 | 0 | 0.005s |
| 500 | 314383 | 0 | 0.004s |
| 1000 | 314407 | 0 | 0.003s |

### Concurrent Operations

Measures application-layer throughput under simultaneous transaction submission.

> **Note**: These results measure client-side submission concurrency (how fast
> transactions can be submitted), not on-chain block-level throughput. Real
> Ethereum mainnet processes transactions sequentially within ~12s blocks.

| Users | Success Rate | Avg Response | Throughput (tx/s) |
|------:|-------------:|-------------:|------------------:|
| 10 | 100% | 0.02s | 452.46 |
| 50 | 100% | 0.08s | 628.45 |
| 100 | 100% | 0.17s | 559.34 |

---

## 5. Cost Comparison: Blockchain vs. Centralized

See `data/comparison.json` for detailed cost comparison data between:
- **Ethereum Mainnet** — current system
- **Polygon L2** — lower gas costs
- **Centralized (AWS)** — traditional cloud infrastructure

Key advantages of the blockchain approach:
1. **Immutable audit trail** — critical for HIPAA compliance
2. **Decentralized access control** — no single point of failure
3. **Patient data sovereignty** — patient controls who sees their records
4. **Cryptographic integrity** — IPFS content-addressing guarantees data hasn't been tampered with

---

*Report generated by the Medical Document Management System Benchmarking Suite v2.0*
